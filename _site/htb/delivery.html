<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/lanz2.png">

<title>HackTheBox - Delivery</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>HackTheBox - Delivery | Sh0x blog</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="HackTheBox - Delivery" />
<meta name="author" content="lanz" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="M√°quina Linux nivel f√°cil, jugaremos con osTicket creando tickets que nos servir√°n para ¬øobtener emails externos en el propio status del ticket? ¬økhE? (jajaj, sip), nos moveremos entre archivos y bases de datos MySQL y curiosamente usaremos las reglas para romper cosas con HashCat y John The Ripper :)" />
<meta property="og:description" content="M√°quina Linux nivel f√°cil, jugaremos con osTicket creando tickets que nos servir√°n para ¬øobtener emails externos en el propio status del ticket? ¬økhE? (jajaj, sip), nos moveremos entre archivos y bases de datos MySQL y curiosamente usaremos las reglas para romper cosas con HashCat y John The Ripper :)" />
<link rel="canonical" href="http://localhost:4000/htb/delivery" />
<meta property="og:url" content="http://localhost:4000/htb/delivery" />
<meta property="og:site_name" content="Sh0x blog" />
<meta property="og:image" content="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308banner.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-22T00:00:00-07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308banner.png" />
<meta property="twitter:title" content="HackTheBox - Delivery" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"lanz"},"dateModified":"2021-05-22T00:00:00-07:00","datePublished":"2021-05-22T00:00:00-07:00","description":"M√°quina Linux nivel f√°cil, jugaremos con osTicket creando tickets que nos servir√°n para ¬øobtener emails externos en el propio status del ticket? ¬økhE? (jajaj, sip), nos moveremos entre archivos y bases de datos MySQL y curiosamente usaremos las reglas para romper cosas con HashCat y John The Ripper :)","headline":"HackTheBox - Delivery","image":"https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308banner.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/htb/delivery"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/sh0x.png"},"name":"lanz"},"url":"http://localhost:4000/htb/delivery"}</script>
<!-- End Jekyll SEO tag -->

    
<link href="/assets/css/prism.css" rel="stylesheet">

<link href="/assets/css/theme.css" rel="stylesheet">

<script src="/assets/js/jquery.min.js"></script>

</head>




<body>
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Sen:400,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Sidebar Navigation
================================================== -->

<div class="sidebar">    
</div>   
<div class="nav-icon">
    <div class="hamburger-bar"></div>
</div>
<div id="blackover-nav" class="blackover"></div>
<nav id="menu">
    <ul>
        <h3>El tiempo a destiempo</h3>
        <li><a href="/" style="color: #0ecbe4;">Home</a></li>
        <li><a href="/categories#article">Art√≠culos</a></li>
        <li><a href="/categories#htb">HackTheBox</a></li>
        <li><a href="/about" style="color: rgb(89, 89, 89);">Whoami</a></li>
    </ul>   
</nav>

<script src="/assets/js/lunr.js"></script>

<style>
    
</style>

<div class="wrap-search">
    <div class="d-flex align-items-center ml-auto">
        <i class="fas fa-search show-search"></i>
        <form class="bd-search ml-3" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
            <input type="text" class="form-control bigradius text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Escribe y enter :P"/>
        </form>
    </div>
</div>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>


<!-- End Sidebar Navigation
================================================== -->

<div class="site-content ">

<div class="container">

    <!-- Site Logo/Name
    ================================================== -->
   
    <a class="navbar-brand" href="/">
        <img src="/assets/images/sh0x.png" alt="Sh0x blog">
    </a>  
   

    <!-- Site Tag
    ================================================== -->
    

    <!-- Content
    ================================================== -->
    <div class="main-content">
        <div class="entry-header">
    <!-- Post Title -->
    <h1 class="posttitle">HackTheBox - Delivery</h1>
    <!-- Author & Date  Box -->
    
    
    <div class="d-flex align-items-center mt-4">
        <div>
            
            <img class="author-thumb" src="https://www.gravatar.com/avatar/e56154546cf4be74e393c62d1ae9f9d4?s=250&d=mm&r=x" alt="Sh0x">
            
        </div>            
        <div>
        Funk <a targ="_blank" class="text-info">Sh0x</a> el 
        <span class="post-date"><time class="post-date" datetime="2021-05-22">22 May 2021</time></span>           
        
        </div>            
    </div>
    
</div>

<!-- Adsense under title if enabled from _config.yml (change your pub id and slot) -->


<!-- Featured Image -->

<div class="entry-featured-image">
    
    <img class="featured-image " src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308banner.png" alt="HackTheBox - Delivery">
    
</div>


<!-- Content -->
<!-- Post, Page Content
================================================== -->
<div class="article-post">
    <!-- Toc if any -->
    
    <!-- End Toc -->
    <p>M√°quina Linux nivel f√°cil, jugaremos con <strong>osTicket</strong> creando tickets que nos servir√°n para ¬øobtener emails externos en el propio status del ticket? ¬økhE? (jajaj, sip), nos moveremos entre archivos y bases de datos <strong>MySQL</strong> y curiosamente usaremos las <strong>reglas</strong> para romper cosas con <strong>HashCat</strong> y <strong>John The Ripper</strong> :)</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308deliveryHTB.png" alt="308deliveryHTB" /></p>

<h3 id="tldr-spanish-writeup">TL;DR (Spanish writeup)</h3>

<p><strong>Creada por</strong>: <a href="https://www.hackthebox.eu/profile/3769">ippsec</a>. El master craster faster :D</p>

<p>Bueno bueno bueeeeno, encontraremos dos servicios, uno que nos permite generar tickets que ser√°n enviados a una mesa de ayuda (software <strong>osTicket</strong>) y otro que nos permitir√° comunicarnos con nuestros equipos de trabajo (software <strong>Mattermost</strong>)‚Ä¶ Jugando con los dos, encontraremos que cuando generamos un ticket, crea un email asociado a ese ticket. Peeero que si validamos el status de ese ticket e interactuamos con ese email externamente, podremos llegar a obtener correos enviados a ese email en el <strong>status</strong> del ticket üôÉ Una vaina loca!</p>

<p>Apoyados en esto lograremos validar una cuenta creada en el servicio <strong>Mattermost</strong>, en el dashboard encontraremos un chat correspondiente a un equipo de trabajo, en esos mensajes tendremos unas credenciales, una referencia a reutilizaci√≥n de contrase√±as y a reglas de hashcat. Las credenciales nos servir√°n para entrar al panel de control donde est√°n todos los tickets y tambi√©n nos permitir√°n obtener una sesi√≥n por medio de <strong>SSH</strong> como el usuario <strong>maildeliverer</strong> en la m√°quina.</p>

<p>Enumerando los directorios de los servicios web, encontramos en la ra√≠z de <strong>Mattermost</strong> unas credenciales del usuario que mantiene la base de datos <strong>MySQL</strong>, recorreremos la base de datos <strong>mattermost</strong> para encontrar una contrase√±a encriptada en formato <em>bcrypt</em> asociada a un usuario llamado <strong>root</strong> del servicio web.</p>

<p>Jugando con las reglas tanto de <strong>hashcat</strong> como de <strong>john</strong> lograremos crackear el hash del usuario <strong>root</strong>. Probando esa contrase√±a en el sistema contra el usuario <strong>root</strong> obtendremos una sesi√≥n como √©l.</p>

<h4 id="clasificaci√≥n-de-la-m√°quina">Clasificaci√≥n de la m√°quina</h4>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308statistics.png" style="display: block; margin-left: auto; margin-right: auto; width: 90%;" /></p>

<blockquote>
  <p>Escribo para tener mis ‚Äúnotas‚Äù, por si algun dia se me olvida todo, leer esto y reencontrarme (o talvez no) :) adem√°s de enfocarme en plasmar mis errores y exitos (por si ves mucho texto), todo desde una perspectiva m√°s de ense√±anza que de solo plasmar lo que hice.</p>
</blockquote>

<p>‚Ä¶</p>

<p>Tonces!</p>

<ol>
  <li><a href="#enumeracion">Enumeraci√≥n</a>.</li>
  <li><a href="#explotacion">Explotaci√≥n</a>.</li>
  <li><a href="#escalada-de-privilegios">Escalada de privilegios</a>.</li>
</ol>

<p>‚Ä¶</p>

<h2 id="enumeracion">Enumeraci√≥n <a href="#enumeracion">#</a></h2>

<p>Hacemos un escaneo inicial para obtener los puertos abiertos y que servicios aparentemente est√°s corriendo sobre ellos:</p>

<pre><code class="language-bash">„Çùnmap -p- --open -v 10.10.10.222 -oG initScan
</code></pre>

<table>
  <thead>
    <tr>
      <th>Par√°metro</th>
      <th style="text-align: left">Descripci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-p-</td>
      <td style="text-align: left">Escanea todos los 65535</td>
    </tr>
    <tr>
      <td>‚Äìopen</td>
      <td style="text-align: left">Solo los puertos que est√°n abiertos</td>
    </tr>
    <tr>
      <td>-v</td>
      <td style="text-align: left">Permite ver en consola lo que va encontrando</td>
    </tr>
    <tr>
      <td>-oG</td>
      <td style="text-align: left">Guarda el output en un archivo con formato grepeable para usar una <a href="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/magic/extractPorts.png">funci√≥n</a> de <a href="https://s4vitar.github.io/">S4vitar</a> que me extrae los puertos en la clipboard</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-bash">„Çù cat initScan
# Nmap 7.80 scan initiated Tue Jan 12 25:25:25 2021 as: nmap -p- --open -v -oG initScan 10.10.10.222
# Ports scanned: TCP(65535;1-65535) UDP(0;) SCTP(0;) PROTOCOLS(0;)
Host: 10.10.10.222 () Status: Up
Host: 10.10.10.222 () Ports: 22/open/tcp//ssh///, 80/open/tcp//http///, 8065/open/tcp/////
# Nmap done at Tue Jan 12 25:25:25 2021 -- 1 IP address (1 host up) scanned in 126.12 seconds
</code></pre>

<p>Encontramos:</p>

<table>
  <thead>
    <tr>
      <th>Puerto</th>
      <th style="text-align: left">Descripci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>22</td>
      <td style="text-align: left"><strong><a href="https://www.ssh.com/academy/ssh/port">SSH</a></strong></td>
    </tr>
    <tr>
      <td>80</td>
      <td style="text-align: left"><strong><a href="https://www.techopedia.com/definition/15709/port-80">HTTP</a></strong></td>
    </tr>
    <tr>
      <td>8065</td>
      <td style="text-align: left">No sabemos a√∫n</td>
    </tr>
  </tbody>
</table>

<p>Ahora validemos si existen versiones y scripts relacionados para esos servicios corriendo:</p>

<pre><code class="language-bash">„Çù nmap -p 22,80,8065 -sC -sV 10.10.10.222 -oN portScan
</code></pre>

<table>
  <thead>
    <tr>
      <th>Par√°metro</th>
      <th style="text-align: left">Descripci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-p</td>
      <td style="text-align: left">Escaneo de los puertos obtenidos</td>
    </tr>
    <tr>
      <td>-sC</td>
      <td style="text-align: left">Muestra todos los scripts relacionados con el servicio</td>
    </tr>
    <tr>
      <td>-sV</td>
      <td style="text-align: left">Nos permite ver la versi√≥n del servicio</td>
    </tr>
    <tr>
      <td>-oN</td>
      <td style="text-align: left">Guarda el output en un archivo</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-bash">‚ù≠ cat portScan 
# Nmap 7.80 scan initiated Tue Jan 12 25:25:25 2021 as: nmap -p 22,80,8065 -sC -sV -oN portScan 10.10.10.222
Nmap scan report for 10.10.10.222
Host is up (0.19s latency).

PORT     STATE SERVICE VERSION
22/tcp   open  ssh     OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)
| ssh-hostkey: 
|   2048 9c:40:fa:85:9b:01:ac:ac:0e:bc:0c:19:51:8a:ee:27 (RSA)
|   256 5a:0c:c0:3b:9b:76:55:2e:6e:c4:f4:b9:5d:76:17:09 (ECDSA)
|_  256 b7:9d:f7:48:9d:a2:f2:76:30:fd:42:d3:35:3a:80:8c (ED25519)
80/tcp   open  http    nginx 1.14.2
|_http-server-header: nginx/1.14.2
|_http-title: Welcome
8065/tcp open  unknown
| fingerprint-strings: 
|   GenericLines, Help, RTSPRequest, SSLSessionReq, TerminalServerCookie: 
|     HTTP/1.1 400 Bad Request
|     Content-Type: text/plain; charset=utf-8
|     Connection: close
|     Request
|   GetRequest: 
|     HTTP/1.0 200 OK
|     Accept-Ranges: bytes
|     Cache-Control: no-cache, max-age=31556926, public
|     Content-Length: 3108
|     Content-Security-Policy: frame-ancestors 'self'; script-src 'self' cdn.rudderlabs.com
|     Content-Type: text/html; charset=utf-8
|     Last-Modified: Tue, 12 Jan 2021 14:01:26 GMT
|     X-Frame-Options: SAMEORIGIN
|     X-Request-Id: sjgqngc48j8m3j91o7tu3pyigy
|     X-Version-Id: 5.30.0.5.30.1.57fb31b889bf81d99d8af8176d4bbaaa.false
|     Date: Tue, 12 Jan 2021 15:16:24 GMT
|     &lt;!doctype html&gt;&lt;html lang="en"&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"&gt;&lt;meta name="robots" content="noindex, nofollow"&gt;&lt;meta name="referrer" content="no-referrer"&gt;&lt;title&gt;Mattermost&lt;/title&gt;&lt;meta name="mobile-web-app-capable" content="yes"&gt;&lt;meta name="application-name" content="Mattermost"&gt;&lt;meta name="format-detection" content="telephone=no"&gt;&lt;link re
|   HTTPOptions: 
|     HTTP/1.0 405 Method Not Allowed
|     Date: Tue, 12 Jan 2021 15:16:24 GMT
|_    Content-Length: 0
1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :
SF-Port8065-TCP:V=7.80%I=7%D=1/12%Time=5FFDBB34%P=x86_64-pc-linux-gnu%r(Ge
SF:nericLines,67,"HTTP/1\.1..."
...
...
# Esto no es necesario, adem√°s lo quito por unos problemas que me da con la busqueda
...
...

Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Tue Jan 12 25:25:25 2021 -- 1 IP address (1 host up) scanned in 113.07 seconds
</code></pre>

<p>Y ahora obtenemos las versiones:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Puerto</th>
      <th style="text-align: left">Servicio</th>
      <th style="text-align: left">Versi√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">22</td>
      <td style="text-align: left">SSH</td>
      <td style="text-align: left">OpenSSH 7.9p1</td>
    </tr>
    <tr>
      <td style="text-align: left">80</td>
      <td style="text-align: left">HTTP</td>
      <td style="text-align: left">nginx 1.14.2</td>
    </tr>
    <tr>
      <td style="text-align: left">8065</td>
      <td style="text-align: left">HTTP</td>
      <td style="text-align: left">unknown - Pero parece un servidor web</td>
    </tr>
  </tbody>
</table>

<p>Bueno, profundicemos en cada uno de ellos (:</p>

<p>‚Ä¶</p>

<h3 id="puerto-80">Puerto 80 - osTicket <a href="#puerto-80">‚åñ</a></h3>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80.png" alt="308page80" /></p>

<p>Un simple servicio web, si posicionamos el cursor sobre <strong>HELPDESK</strong>, vemos que nos redirige a un dominio: <code>helpdesk.delivery.htb</code>, agregu√©moslo al archivo <a href="https://tldp.org/LDP/solrhe/Securing-Optimizing-Linux-RH-Edition-v1.3/chap9sec95.html">/etc/hosts</a> para que cuando hagamos una petici√≥n hacia ese dominio nos resuelva hacia la IP <strong>10.10.10.200</strong>, as√≠ logra el servicio web entender hacia donde debe ir a buscar la info del dominio:</p>

<p><strong>(Aprovechemos para agregar el dominio **delivery.htb</strong>, por si algo)**</p>

<pre><code class="language-bash">„Çù cat /etc/hosts
...
10.10.10.222  helpdesk.delivery.htb delivery.htb
...
</code></pre>

<p>Si nos dirigimos hacia el dominio, vemos:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_helpdesk.png" alt="308page80_helpdesk" /></p>

<p>Valeee, estamos ante un servicio llamado <a href="https://avantys.com/clientes/knowledgebase/89/Que-es-OsTicket.html">osTicket</a>, que se encarga de brindar soporte al cliente, facilitando el orden y administraci√≥n de los tickets enviados a mesa de ayuda, entre otras cosas‚Ä¶</p>

<p>Tenemos varios apartados, a la vista tres: abrir un nuevo ticket, verificar el status de un ticket y logearnos en <strong>osTicket</strong>. Si nos dirigimos a abrir un ticket nos pide una direcci√≥n email, as√≠ que veamos si podemos crearnos una:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_signin.png" alt="308page80_signin" /></p>

<p>Vemos aparentemente dos nuevos apartados, uno en donde podemos registrar una cuenta y otra que nos dirige a un nuevo login, en este caso (seg√∫n lo que vimos) para los <a href="https://docs.osticket.com/en/latest/Admin/Agents/Agents.html">‚Äúagentes‚Äù</a>, echemos un ojo r√°pidamente:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_agent_login.png" alt="308page80_agent_login" /></p>

<p>Probando credenciales por default no logramos nada, as√≠ que volvamos y registremos una cuenta.</p>

<p>Registramos y nos redirige a una ventana que nos indica que nos enviara un email de verificaci√≥n para hacer efectivo el registro :( (Ac√° pens√© en tomar un <strong>email</strong> temporal online y volver a registrarnos, pero no llega ning√∫n correo, as√≠ que esto no debe ser relevante. Si intentamos logearnos con las credenciales registradas obtenemos:</p>

<pre><code class="language-html">Account confirmation required
</code></pre>

<p>As√≠ que F, reconfirmamos que probablemente no sea necesario crear una cuenta para explotar la m√°quina ;)</p>

<p>Ahora s√≠, creemos un ticket con el email que registramos a ver si vemos algo, llenamos los campos necesarios, damos clic en <strong>Create Ticket</strong> y nos responde con:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_creating_ticket_as_lanz.png" alt="308page80_creating_ticket_as_lanz" /></p>

<p>Varias cositas interesantes:</p>

<ul>
  <li>Crea un ticket con lo que parece ser un n√∫mero aleatorio,</li>
  <li>pero ese mismo n√∫mero lo usa para generar un <strong>email</strong> con dominio <code>delivery.htb</code>‚Ä¶</li>
</ul>

<p>Si intentamos ver el status del ticket nos vuelve a responder con <strong>Account confirmation required</strong> :(</p>

<p>Jmmm, despues de muchas pruebas (listo 2, pero uff, lo que prob√© jaja), como estas:</p>

<ul>
  <li>Crearnos un correo que tenga el dominio <code>delivery.htb</code>, crear ticket y validar su estado.</li>
  <li>Usar el correo que nos da al crear el ticket y registar una cuenta con √©l.</li>
</ul>

<p>No logramos ver ning√∫n ticket.</p>

<p>Se me dio por probar a crear un ticket como el usuario <strong>admin@delivery.htb</strong> (que no sab√≠a que exist√≠a, pero son pruebas que se deben hacer) y con el s√≠ podemos ver el status del ticket.</p>

<p>Como ejemplo creamos uno y nos devuelve:</p>

<ul>
  <li>ID: <strong>9827830</strong>.</li>
  <li>email: <strong>9827830@delivery.htb</strong>.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_check_ticket_as_admin.png" alt="308page80_check_ticket_as_admin" /></p>

<p>Llegamos a:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_check_ticketContent_as_admin.png" alt="308page80_check_ticketContent_as_admin" /></p>

<p>Bien, tenemos un usuario v√°lido para ver tickets‚Ä¶ No podemos hacer mucho con el contenido del ticket, as√≠ que tamos perdidos de nuevo :)</p>

<p>Probando cosas (de nuevo) no conseguimos nada, as√≠ que mov√°monos de servicio mientras tanto, quiz√°s encontramos algo √∫til para volver.</p>

<p>‚Ä¶</p>

<h3 id="puerto-8065">Puerto 8065 - Mattermost <a href="#puerto-8065">‚åñ</a></h3>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page8065.png" alt="308page8065" /></p>

<p>Nos redirige al apartado <code>/login</code> y efectivamente tenemos un login üòú del servicio <a href="https://www.neolo.com/blog/que-es-mattermost-y-para-que-sirve.php">Mattermost</a>, que nos ayuda a comunicarnos con un (o muchos) equipo(s) de trabajo.</p>

<p>En la imagen vemos la opci√≥n de crear una cuenta, la creamos y nos muestra como respuesta:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page8065_verify_email.png" alt="308page8065_verify_email" /></p>

<p>De nuevo tenemos que validar el email :(</p>

<p>‚Ä¶</p>

<h2 id="explotacion">Explotaci√≥n <a href="#explotacion">#</a></h2>

<p>Estuve tambi√©n probando varias cosas, pero en un momento intente algo curioso y loco (muy loco):</p>

<ul>
  <li>Crear una cuenta asociada a este email: <strong>9827830@delivery.htb</strong>, que fue el que obtuvimos al crear el ticket.</li>
</ul>

<p>Hasta ac√° todo normal y nada loco‚Ä¶ Pero actualice la p√°gina donde ten√≠amos el status del ticket <strong>9827830</strong> y la info cambio, ahora tenemos esto:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_ticketContent_emailLinkMattermost.png" alt="308page80_ticketContent_emailLinkMattermost" /></p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308google_gif_what.gif" style="display: block; margin-left: auto; margin-right: auto; width: 60%;" /></p>

<p>Exacto, as√≠ quede. WtfFFFFFFFFFfdfffFffffffffffffff.</p>

<p>Tenemos el link para activar nuestra cuenta recientemente creada en el servicio <strong>Mattermost</strong>‚Ä¶ Entendamos el porqu√©:</p>

<p><span style="color:red;">1. </span>Creamos un ticket en el servicio <strong>osTicket</strong> y ese ticket genera un email, en la respuesta al generar el ticket vemos:</p>

<blockquote>
  <p>If you want to <strong>add more information to your ticket</strong>, just email <strong>9827830@delivery.htb</strong>.</p>
</blockquote>

<p>No lo vimos relevante pero ahora toma sentido.</p>

<p><span style="color:red;">2. </span>Creamos una cuenta con el email anterior en el servicio <strong>Mattermost</strong> y como respuesta el servicio env√≠a un correo para validar la cuenta.</p>

<p><span style="color:red;">3. </span>Como vimos en el <strong>punto 1</strong>, pr√°cticamente estamos ‚Äúa√±adiendo‚Äù m√°s informaci√≥n al ticket, donde esa ‚Äúm√°s informaci√≥n‚Äù es el correo enviado por <strong>Mattermost</strong>, por lo que entendemos que toda info enviada a ese correo actualizara el estado del ticket :) Bingo!</p>

<p>Perfecto, ya entendemos que est√° pasando, y que locura eh! Podemos seguir (:</p>

<p>En el correo enviado por <strong>Mattermost</strong> nos referencian el link para activar la cuenta:</p>

<pre><code class="language-txt">Please activate your email by going to: http://delivery.htb:8065/do_verify_email?
token=6qm5nbugy3fgtwhm3zoxwt4zybrc8ip9xxffpfamfcyku8uhqepccj3rnopkrbsu&amp;email=9827830%40delivery.htb
</code></pre>

<p>Si vamos hacia √©l, obtenemos:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page8065_emailVerified.png" alt="308page8065_emailVerified" /></p>

<p>Listones, tamos verificaos‚Äô, colocamos la contrase√±a, enviamos la petici√≥n yyyy:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page8065_selecTeam.png" alt="308page8065_selecTeam" /></p>

<p>Nos pide seleccionar un equipo, dejamos el que esta por default llamado <strong>internal</strong>, damos clic sobre √©l, despues nos hace un tutorial y finalmente llegamos a toda la info sobre el equipo <strong>internal</strong>:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page8065_internalTeam_messages.png" alt="308page8065_internalTeam_messages" /></p>

<p>Vale, varias cositas interesantes:</p>

<ul>
  <li>Nos da unas credenciales de ‚Äúun servidor‚Äù, tenemos 3 logins para probar y un SSH, as√≠ que tamos bien‚Ä¶</li>
  <li>Dice que est√°n usando la misma contrase√±a en todos los sitios :o Y que las contrase√±as est√°n relacionadas con <strong>PleaseSubscribe!</strong>.</li>
  <li>Y vemos una referencia a <strong>reglas</strong> de hashcat, que relacionando el anterior punto, tiene mucho sentido :)</li>
</ul>

<p>Bien, pues primero validemos las credenciales que nos dieron a ver donde funcionan.</p>

<p>Prob√°ndolas en el login de los agentes vemos que son v√°lidas:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_agent_login_prevDONE.png" alt="308page80_agent_login_prevDONE" /></p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308page80_agent_login_DONE.png" alt="308page80_agent_login_DONE" /></p>

<p>Encontramos tooooooooooooooooodos los tickets creados y su hist√≥rico, entre muchas cosas m√°s, como el <strong>Admin Panel</strong> en la parte superior (:</p>

<p><strong>Prob√°ndolas contra el servicio</strong> SSH <strong>obtenemos una sesi√≥n</strong>:</p>

<pre><code class="language-bash">„Çù ssh maildeliverer@10.10.10.222
maildeliverer@10.10.10.222's password: 
Linux Delivery 4.19.0-13-amd64 #1 SMP Debian 4.19.160-2 (2020-11-28) x86_64
...
maildeliverer@Delivery:~$ id
uid=1000(maildeliverer) gid=1000(maildeliverer) groups=1000(maildeliverer)
maildeliverer@Delivery:~$ 
</code></pre>

<p>‚Ä¶</p>

<h2 id="escalada-de-privilegios">Escalada de privilegios <a href="#escalada-de-privilegios">#</a></h2>

<p>Despues de enumerar algunos archivos, encontramos los objetos fuente del servicio <strong>Mattermost</strong> y una carpeta de configuraci√≥n:</p>

<pre><code class="language-bash">maildeliverer@Delivery:/opt/mattermost/config$ ls -la
total 36
drwxrwxr-x  2 mattermost mattermost  4096 Dec 26 09:23 .
drwxrwxr-x 12 mattermost mattermost  4096 Dec 26 09:24 ..
-rw-rw-r--  1 mattermost mattermost   922 Dec 18 08:52 cloud_defaults.json
-rw-rw-r--  1 mattermost mattermost 18774 May 15 19:24 config.json
-rw-rw-r--  1 mattermost mattermost   243 Dec 18 08:52 README.md
</code></pre>

<p>Echando un ojito al archivo <a href="https://docs.mattermost.com/administration/config-settings.html">config.json</a>, vemos algo interesante:</p>

<pre><code class="language-json">{
...
    ...
    "SqlSettings": {
        "DriverName": "mysql",
        "DataSource": "mmuser:Crack_The_MM_Admin_PW@tcp(127.0.0.1:3306)/mattermost?charset=utf8mb4,utf8\u0026readTimeout=30s\u0026writeTimeout=30s",
        "DataSourceReplicas": [],
        "DataSourceSearchReplicas": [],
        "MaxIdleConns": 20,
        "ConnMaxLifetimeMilliseconds": 3600000,
        "MaxOpenConns": 300,
        "Trace": false,
        "AtRestEncryptKey": "n5uax3d4f919obtsp1pw1k5xetq1enez",
        "QueryTimeout": 30,
        "DisableDatabaseSearch": false
    },
    ...
...
</code></pre>

<p>Ehh opa, conseguimos lo que parecen ser unas credenciales del servicio <strong>MySQL</strong> (gestor bases de datos):</p>

<ul>
  <li><strong>mmuser:Crack_The_MM_Admin_PW</strong>, una pw bastante extra√±a.</li>
</ul>

<blockquote>
  <p>Al parecer es un atributo propio de <strong>Mattermost</strong> y no algo hecho a posta por <strong>ippsec</strong>: <a href="https://docs.mattermost.com/administration/config-in-database.html">mattermost - config-in-database</a>.</p>
</blockquote>

<p>Probemos a ver si son v√°lidas:</p>

<pre><code class="language-bash">maildeliverer@Delivery:/opt/mattermost/config$ mysql -u mmuser -p
Enter password: 
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 556
Server version: 10.3.27-MariaDB-0+deb10u1 Debian 10

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt;
</code></pre>

<pre><code class="language-bash">maildeliverer@Delivery:/opt/mattermost/config$ mysql -u mmuser -pCrack_The_MM_Admin_PW
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 557
Server version: 10.3.27-MariaDB-0+deb10u1 Debian 10

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt;
</code></pre>

<p><strong>(Solo quer√≠a mostrarles dos maneras de hacerlo :P)</strong></p>

<p>Son v√°lidas e.e Pues enumeremos las bases de datos y su informaci√≥n‚Ä¶</p>

<p>‚Ä¶</p>

<h3 id="buscando-en-mysql">Buscando en MySQL</h3>

<p>Tenemos:</p>

<pre><code class="language-mysql">MariaDB [(none)]&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mattermost         |
+--------------------+
2 rows in set (0.000 sec)

MariaDB [(none)]&gt;
</code></pre>

<pre><code class="language-mysql">MariaDB [(none)]&gt; use mattermost;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
MariaDB [mattermost]&gt; 
</code></pre>

<pre><code class="language-mysql">MariaDB [mattermost]&gt; show tables;
+------------------------+
| Tables_in_mattermost   |
+------------------------+
| Audits                 |
...
| UserAccessTokens       |
| UserGroups             |
| UserTermsOfService     |
| Users                  |
+------------------------+
46 rows in set (0.001 sec)

MariaDB [mattermost]&gt; 
</code></pre>

<p>Varias tablas, pero veamos <strong>Users</strong> inicialmente:</p>

<pre><code class="language-mysql">MariaDB [mattermost]&gt; SELECT * FROM Users;
...
</code></pre>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308bash_delivery_mysql_Users_table.png" alt="308bash_delivery_mysql_Users_table" /></p>

<p>Jmmm, un mont√≥n de usuarios y al haber tantos campos, pues se ve horrible todo :o Pero m√°s o menos el formato de la tabla es as√≠:</p>

<pre><code class="language-mysql">| Id                         | CreateAt      | UpdateAt      | DeleteAt | Username                         | Password                                                     | AuthData | AuthService | Email                   | EmailVerified | Nickname | FirstName          | LastName | Position | Roles                    | AllowMarketing | Props | NotifyProps                                                                                                                                                                  | LastPasswordUpdate | LastPictureUpdate | FailedAttempts | Locale | Timezone                                                                                 | MfaActive | MfaSecret |   
| 16w657nsqpga5ci965u5gjks9w | 1621140348792 | 1621140348792 |        0 | hola                             | $2a$10$HMg19A65aU4TPSj2K3pbCuOYrc0zNh45URBKuNAX1f6AzXTnulB9m | NULL     |             | hola@lanz.com           |             0 |          |                    |          |          | system_user              |              1 | {}    | {"channel":"true","comments":"never","desktop":"mention","desktop_sound":"true","email":"true","first_name":"false","mention_keys":"","push":"mention","push_status":"away"} |      1621140348792 |                 0 |              0 | en     | {"automaticTimezone":"","manualTimezone":"","useAutomaticTimezone":"true"}               |         0 |           |
...
</code></pre>

<p>Donde en la contrase√±a vemos un hash tipo <strong>bcrypt</strong> seg√∫n <a href="https://hashcat.net/wiki/doku.php?id=example_hashes">la wiki</a> de ejemplos de <strong>hashcat</strong>.</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308google_wiki_hashcat_bcrypt.png" alt="308google_wiki_hashcat_bcrypt" /></p>

<p>Claramente no voy a jugar con un usuario que yo cree :P, pero si con uno interesante que vi:</p>

<pre><code class="language-mysql">...
| dijg7mcf4tf3xrgxi5ntqdefma | 1608992692294 | 1609157893370 |        0 | root                             | $2a$10$VM6EeymRxJ29r8Wjkr8Dtev0O.1STWb4.4ScG.anuu7v0EFJwgjjO | NULL     |             | root@delivery.htb       |             1 |          |                    |          |          | system_admin system_user |              1 | {}    | {"channel":"true","comments":"never","desktop":"mention","desktop_sound":"true","email":"true","first_name":"false","mention_keys":"","push":"mention","push_status":"away"} |      1609157893370 |                 0 |              0 | en     | {"automaticTimezone":"Africa/Abidjan","manualTimezone":"","useAutomaticTimezone":"true"} |         0 |           |
...
</code></pre>

<p>Dos cositas interesantes de este usuario:</p>

<ul>
  <li>Pos que se llama <strong>root</strong> e.e</li>
  <li>Pero m√°s importante, en la columna <strong>Roles</strong>, tiene asignados: <strong><em>system_admin</em></strong> y <strong>system_user</strong>. ¬øCu√°l es el importante y porque es relevante este usuario?</li>
</ul>

<p>Listones, tomemos ese <em>hash</em> y guard√©moslo en un archivo:</p>

<pre><code class="language-bash">„Çù cat hash_root_mattermost
$2a$10$VM6EeymRxJ29r8Wjkr8Dtev0O.1STWb4.4ScG.anuu7v0EFJwgjjO
</code></pre>

<p>Y procedamos a crackearlo, podr√≠amos usar el famoso diccionario <strong>rockyou.txt</strong>, pero recordemos lo que nos encontramos en los mensajes del equipo:</p>

<blockquote>
  <p>PleaseSubscribe! may not be in RockYou but if any hacker manages to get our hashes, they can use hashcat rules to easily crack all variations of common words or phrases.</p>
</blockquote>

<p>Todas las contrase√±as est√°n asociadas o tienen que ver con <strong>PleaseSubscribe!</strong> y que esa palabra no est√° en el diccionario <strong>rockyou.txt</strong>‚Ä¶</p>

<p>Entonces, sabemos que debe estar asociada a <strong>PleaseSubscribe!</strong> (este ser√≠a nuestro diccionario), podemos hacer uso de reglas (como bien nos lo indica el mensaje citado) para indicar que tome nuestro diccionario y empiece (depende de la regla) a modificar cada palabra del diccionario agreg√°ndole, borr√°ndole, cambiando a may√∫sculas, min√∫sculas, moviendo letras, agregando n√∫meros, s√≠mbolos, etc. Todo lo que podamos imaginarnos con respecto a manipular una palabra lo hacen las reglas. Entonces por cada modificaci√≥n va validando si ese resultado hace match con el hash‚Ä¶</p>

<p>Haremos el ataque basado en reglas usando <strong>hashcat</strong> y <strong>JohnTheRipper</strong>:</p>

<h3 id="hashcat---rule-based-attack">HashCat - Rule Based Attack</h3>

<p>Empecemos por <strong>hashcat</strong>.</p>

<ul>
  <li><a href="https://notsosecure.com/one-rule-to-rule-them-all/">Estudio de varias reglas, viendo la velocidad y eficacia de cada una en <strong>hashcat</strong></a></li>
</ul>

<p>Las reglas est√°n en el directorio <code>/usr/share/hashcat/rules/</code>:</p>

<pre><code class="language-bash">„Çù ls /usr/share/hashcat/rules/
best64.rule      generated2.rule  Incisive-leetspeak.rule      OneRuleToRuleThemAll.rule  T0XlC-insert_00-99_1950-2050_toprules_0_F.rule  T0XlCv1.rule   toggles4.rule
combinator.rule  generated.rule   InsidePro-HashManager.rule   oscommerce.rule            T0XlC-insert_space_and_special_0_F.rule         toggles1.rule  toggles5.rule
d3ad0ne.rule     hob064.rule      InsidePro-PasswordsPro.rule  rockyou-30000.rule         T0XlC-insert_top_100_passwords_1_G.rule         toggles2.rule  unix-ninja-leetspeak.rule
dive.rule        hybrid           leetspeak.rule               specific.rule              T0XlC.rule                                      toggles3.rule
</code></pre>

<p>Bien, siguiendo el estudio referenciado antes, usaremos la regla <code>InsidePro-PasswordsPro.rule</code>:</p>

<ul>
  <li><a href="https://hashcat.net/wiki/doku.php?id=rule_based_attack">Ac√° podemos entender el contenido de las reglas</a>.</li>
</ul>

<p>Entonces, tenemos la regla y el hash, creamos un archivo llamado <code>dic.txt</code> que tenga la cadena <strong>PleaseSubscribe!</strong>, para as√≠ contar con todos los elementos para empezar a jugar‚Ä¶</p>

<p>Teniendo todo ejecutamos:</p>

<pre><code class="language-bash">„Çù hashcat -m 3200 -r /usr/share/hashcat/rules/InsidePro-HashManager.rule hash_root_mattermost dic.txt -o cracked.txt
</code></pre>

<p>Donde:</p>

<ul>
  <li>-m: Tiene el tipo de hash a crackear, en este caso <strong>3200:bcrypt</strong>.</li>
  <li>-r: Tiene la regla a usar.</li>
  <li>Pasamos el archivo que contiene el hash.</li>
  <li>Pasamos el diccionario, el cual contiene la cadena <strong>PleaseSubscribe!</strong>.</li>
  <li>-o: Le indicamos que si crackea el hash, nos guarde el resultado en el archivo llamado <code>cracked.txt</code>.</li>
</ul>

<p>Despues de un rato obtenemos respuesta:</p>

<pre><code class="language-bash">„Çù cat cracked.txt 
$2a$10$VM6EeymRxJ29r8Wjkr8Dtev0O.1STWb4.4ScG.anuu7v0EFJwgjjO:PleaseSubscribe!21
</code></pre>

<p>Con una cadena en texto plano: <strong>PleaseSubscribe!21</strong>. La cual ser√≠a la contrase√±a del usuario <strong>root</strong> del servicio <strong>Mattermost</strong>, peeeero intentando rehusarla contra la m√°quina y el usuario <strong>root</strong>, obtenemos:</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308bash_delivery_su_rootDONE.png" alt="308bash_delivery_su_rootDONE" /></p>

<p>Una sesi√≥n como √©l :))))))))) Ahora hagamos el mismo procedimiento pero con <strong>John The Ripper</strong>:</p>

<h3 id="john-the-ripper---rule-based-attack">John The Ripper - Rule Based Attack</h3>

<p>Con <strong>john</strong> encontramos un lindo recurso con el que nos guiaremos:</p>

<ul>
  <li><a href="https://miloserdov.org/?p=5477">Comprehensive Guide to John the Ripper - Rule-based attack</a>.</li>
</ul>

<p>En esta herramienta debemos actualizar (si quieren crear su propia regla) un archivo, en mi caso <code>/etc/john/john.conf</code> y agregarle lo que quieran, un punto superinteresante es que las reglas usadas en <strong>hashcat</strong> y <strong>john</strong> pueden ser las mismas, esto facilita mucho el aprendizaje. Adem√°s podemos ver como act√∫an las reglas en una cadena, esto est√° genial como aprendizaje de cada regla‚Ä¶</p>

<p>Creo una regla llamada <strong>Lanz</strong>:</p>

<pre><code class="language-bash">„Çù cat /etc/john/john.conf
# Yo lo puse al final del archivo :P
...
[List.Rules:Lanz]
T0
T1
T2
T0T1
T1T2
T0T2
T0T1T2
$1
$2
$2$3
$2$1
$1$2
...
# Ac√° puedes agregar infinitas reglas seg√∫n lo que quieras probar...
...
</code></pre>

<p>En este caso le pasamos la regla <strong>T</strong> (Cambia entre may√∫scula a min√∫scula y al rev√©s :P) y un numero, donde ese numero es la posici√≥n donde queremos que se efect√∫e la regla (:
Y le pasamos la regla <strong>$</strong>, que agrega al final algo, donde s√© algo es lo que esta despues de dicho s√≠mbolo, por ejemplo <strong>$1</strong>, agregara al final de la cadena el n√∫mero <strong>1</strong>, veamos la regla en ejecuci√≥n:</p>

<pre><code class="language-bash">„Çù john --rules=Lanz --wordlist=dic.txt --stdout
Using default input encoding: UTF-8
pleaseSubscribe!
PLeaseSubscribe!
PlEaseSubscribe!
pLeaseSubscribe!
PLEaseSubscribe!
plEaseSubscribe!
pLEaseSubscribe!
PleaseSubscribe!1
PleaseSubscribe!2
PleaseSubscribe!23
PleaseSubscribe!21
PleaseSubscribe!12
12p 0:00:00:00 100,00% (2021-05-17 25:25) 85.71p/s PleaseSubscribe!12
</code></pre>

<p>Le pasamos la regla que creamos anteriormente (<code>--rules</code>), el diccionario (<code>--wordlist</code>) y que nos muestre por pantalla lo que probar√≠a (<code>--stdout</code>).</p>

<p>Perfecto, vemos como se va modificando nuestro diccionario seg√∫n la regla (<strong>eso esta buenaso</strong>), ahora probemos contra el hash:</p>

<pre><code class="language-bash">„Çù john --rules=Lanz --wordlist=dic.txt --format=bcrypt hash_root_mattermost 
Using default input encoding: UTF-8
Loaded 1 password hash (bcrypt [Blowfish 32/64 X3])
Cost 1 (iteration count) is 1024 for all loaded hashes
Press 'q' or Ctrl-C to abort, almost any other key for status
PleaseSubscribe!21 (?)
1g 0:00:00:00 DONE (2021-05-17 25:25) 3.571g/s 42.85p/s 42.85c/s 42.85C/s PleaseSubscribe!23..PleaseSubscribe!12
Use the "--show" option to display all of the cracked passwords reliably
Session completed
</code></pre>

<pre><code class="language-bash">„Çù john --show hash_root_mattermost 
?:PleaseSubscribe!21

1 password hash cracked, 0 left
</code></pre>

<p>Y si, tambi√©n hace la tarea de jugar con las reglas para finalmente darnos la cadena <strong>PleaseSubscribe!21</strong> como v√°lida ante el hash :) Y por consiguiente volvernos a conectar como <strong>root</strong> y leer las flags :)</p>

<p><img src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/delivery/308flags.png" alt="308flags" /></p>

<blockquote>
  <p>Pa leer: <a href="https://www.openwall.com/john/doc/RULES.shtml">Otro recurso que habla de las reglas con respecto a <strong>john</strong></a>.</p>
</blockquote>

<p>‚Ä¶</p>

<p>Como conclusi√≥n <a href="https://www.youtube.com/c/ippsec/videos">ippsec</a> nos deja una nota:</p>

<pre><code class="language-bash">root@Delivery:~# cat note.txt 
I hope you enjoyed this box, the attack may seem silly but it demonstrates a pretty high risk vulnerability I've seen several times.  The inspiration for the box is here: 

- https://medium.com/intigriti/how-i-hacked-hundreds-of-companies-through-their-helpdesk-b7680ddc2d4c 

Keep on hacking! And please don't forget to subscribe to all the security streamers out there.

- ippsec
</code></pre>

<p>‚Ä¶</p>

<p>Me gusto bastante el ataque inicial una vez entendido, brutalidad eh! Como de algo tan peque√±o explotan cosas gigantes ufff. El tema de las reglas es algo que puede ser muuuuy peligroso, me encanta como trabajan y modifican la data, que loco (:</p>

<p>Weno, hemos llegado hasta ac√° pero nos queda mucho por explorar, pero tambi√©n nos queda como siempre seguir rompiendo de todooooo! Gracias por leer &lt;3</p>

</div>

<!-- Rating -->


<!-- Author Box if enabled from _config.yml -->
<!-- Author Box -->




<!-- Comments if not disabled with comments: false -->
<!-- Comments
================================================== -->
 
<div class="comments">
    <button class="btn btn-dark show-comments">Comentarios</button>         
    <div id="comments">  
        <h4 class="mb-4">Comments</h4>                 
            <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'demowebsite'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
     
    <div class="clearfix"></div>              
    </div>    
</div>       


<!-- Share -->
<div class="share">
    <p>
        Vacios
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=HackTheBox - Delivery&url=http://localhost:4000/htb/delivery" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.hackthebox.eu/profile/73707" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fas fa-cube"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://github.com/lanzt" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-github"></i>
            </a>
        </li>

    </ul>
</div>


<!-- Related Post -->
<!-- Related Posts
================================================== -->
<div class=" related-posts ">  

    
    <h2 class="text-center mb-4">Posts relacionados a este (o se hace el intento).</h2>
    
    
    <div class="d-flex justify-content-center align-items-center">

    <!-- Tags -->  
    
                    
    <a class="smoothscroll badge badge-primary" href="/tags#cracking">cracking</a>               
                    
    <a class="smoothscroll badge badge-primary" href="/tags#mattermost">mattermost</a>               
                    
    <a class="smoothscroll badge badge-primary" href="/tags#osticket">osticket</a>               
                    
    <a class="smoothscroll badge badge-primary" href="/tags#rule-based-attack">rule-based-attack</a>               
                    
    <a class="smoothscroll badge badge-primary" href="/tags#ticket-support">ticket-support</a>               
    
    
    <!-- Categories -->
    
    
    <a class="smoothscroll badge badge-primary" href="/categories#htb">htb</a>                
    

    </div>

    
    
    
    <div class="blog-grid-container">
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/htb/help">
                

                    
                        <img class="img-thumb" src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/help/170banner.png" alt="HackTheBox - Help"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/htb/help">HackTheBox - Help</a>
                
            </h2>
            <h4 class="card-text">M√°quina Linux nivel f√°cil. Investigaremos subidas de archivos .php en el servicio HelpDeskZ, jueguitos sucios con MySQL y una explotaci√≥n de un kernel con ganas de morir.

</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/e56154546cf4be74e393c62d1ae9f9d4?s=250&d=mm&r=x" alt="Sh0x">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="">Sh0x</a></span> 
                
                <span class="post-date">22 Jul 2021</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/htb/heist">
                

                    
                        <img class="img-thumb" src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/heist/201banner.png" alt="HackTheBox - Heist"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/htb/heist">HackTheBox - Heist</a>
                
            </h2>
            <h4 class="card-text">M√°quina Windows nivel f√°cil, jugaremos con crackeo de passwords Cisco, movimientos laterales para encontrar usuarios a los cuales no ten√≠amos acceso yyyyyy dumpearemos procesos de Firefox para ver que est√°...</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/e56154546cf4be74e393c62d1ae9f9d4?s=250&d=mm&r=x" alt="Sh0x">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="">Sh0x</a></span> 
                
                <span class="post-date">15 Jun 2021</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/htb/writeup">
                

                    
                        <img class="img-thumb" src="https://raw.githubusercontent.com/lanzt/blog/main/assets/images/HTB/writeup/192banner.png" alt="HackTheBox - Writeup"> 
                    

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/htb/writeup">HackTheBox - Writeup</a>
                
            </h2>
            <h4 class="card-text">M√°quina Linux nivel f√°cil, nos miraremos a los ojos con un CMS vulnerable a SQLi time-based. Haremos reutilizaci√≥n de credenciales y encontraremos un PATH Hijacking guapet√≥n.

</h4>
        </div>
        <div class="card-footer bg-white">
            <div class="wrapfooter">
                
                <span class="meta-footer-thumb">
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/e56154546cf4be74e393c62d1ae9f9d4?s=250&d=mm&r=x" alt="Sh0x">
                
                </span>
                <span class="author-meta">
                <span class="post-name"><a target="_blank" href="">Sh0x</a></span> 
                
                <span class="post-date">09 Jun 2021</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
                
        </div>        
</div>

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

    </div>

    
    <!-- Newsletter
    ================================================== -->
    <div class="newsletter text-center">
        <span class="h4"><img src="/assets/images/sh0x.png" class="newsletter-logo" alt="Sh0x blog"></span>
        <p></p>
    </div>
    
    
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-12 text-center text-lg-left">
                Copyright ¬© 2022 Sh0x blog 
            </div>
            <div class="col-md-6 col-sm-12 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net/memoirs-free-jekyll-theme/">Memoirs Jekyll Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts (if you need bootstrap.js, please add it yourself. I didn't use it for performance reasons, it was not needed in this theme)
================================================== -->

<script src="/assets/js/prism.js"></script>

<script src="/assets/js/theme.js"></script>




<script id="dsq-count-scr" src="//demowebsite.disqus.com/count.js"></script>


</body>
</html>
